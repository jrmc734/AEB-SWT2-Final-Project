\hypertarget{sensors_8c}{}\doxysection{src/sensors.c File Reference}
\label{sensors_8c}\index{src/sensors.c@{src/sensors.c}}
{\ttfamily \#include $<$stdio.\+h$>$}\newline
{\ttfamily \#include $<$stdlib.\+h$>$}\newline
{\ttfamily \#include $<$unistd.\+h$>$}\newline
{\ttfamily \#include \char`\"{}constants.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}mq\+\_\+utils.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}sensors\+\_\+input.\+h\char`\"{}}\newline
{\ttfamily \#include $<$pthread.\+h$>$}\newline
{\ttfamily \#include $<$stdbool.\+h$>$}\newline
{\ttfamily \#include \char`\"{}dbc.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}file\+\_\+reader.\+h\char`\"{}}\newline
Include dependency graph for sensors.\+c\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{sensors_8c__incl}
\end{center}
\end{figure}
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void $\ast$ \mbox{\hyperlink{sensors_8c_a7133528f31fb081ea984f84794d3c453}{get\+Sensors\+Data}} (void $\ast$arg)
\item 
\mbox{\hyperlink{structcan__msg}{can\+\_\+msg}} \mbox{\hyperlink{sensors_8c_ae5c0774d75da2ba5c8393e7056379f0e}{conv2\+CANCar\+Cluster\+Data}} (bool on\+\_\+off\+\_\+aeb\+\_\+system)
\item 
\mbox{\hyperlink{structcan__msg}{can\+\_\+msg}} \mbox{\hyperlink{sensors_8c_aaeb9968a8ab3ef5ccc549dee4d3c05e8}{conv2\+CANVelocity\+Data}} (bool vehicle\+\_\+direction, double vehicle\+\_\+velocity)
\item 
\mbox{\hyperlink{structcan__msg}{can\+\_\+msg}} \mbox{\hyperlink{sensors_8c_a6a04fa5bdc3138d5d212168f20ddcd2b}{conv2\+CANObstacle\+Data}} (bool has\+\_\+obstacle, double obstacle\+\_\+distance)
\item 
\mbox{\hyperlink{structcan__msg}{can\+\_\+msg}} \mbox{\hyperlink{sensors_8c_a0cba2b3a2b9c32751dd01c0f59b49261}{conv2\+CANPedals\+Data}} (bool brake\+\_\+pedal, bool accelerator\+\_\+pedal)
\item 
int \mbox{\hyperlink{sensors_8c_ae66f6b31b5ad750f1fe042a706a4e3d4}{main}} ()
\end{DoxyCompactItemize}
\doxysubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
mqd\+\_\+t \mbox{\hyperlink{sensors_8c_a074b0ef9bc31934bbf9b2b54e9e9aa43}{sensors\+\_\+mq}}
\item 
pthread\+\_\+t \mbox{\hyperlink{sensors_8c_a6ad3d00dfd971193e96fb9f18133171f}{sensors\+\_\+id}}
\item 
\mbox{\hyperlink{structsensors__input__data}{sensors\+\_\+input\+\_\+data}} \mbox{\hyperlink{sensors_8c_ac45d5dcfa9efd80bcc0ef22fcafc61e3}{sensors\+Data}}
\item 
\mbox{\hyperlink{structcan__msg}{can\+\_\+msg}} \mbox{\hyperlink{sensors_8c_a3bdc4daf576546b0a53294324cafd087}{can\+\_\+car\+\_\+cluster}}
\item 
\mbox{\hyperlink{structcan__msg}{can\+\_\+msg}} \mbox{\hyperlink{sensors_8c_a0f18fc7309742ccb54bfca636def5220}{can\+\_\+velocity\+\_\+sensor}}
\item 
\mbox{\hyperlink{structcan__msg}{can\+\_\+msg}} \mbox{\hyperlink{sensors_8c_ae0bb2c4e7f2b0e3531b985f62c467a24}{can\+\_\+obstacle\+\_\+sensor}}
\item 
\mbox{\hyperlink{structcan__msg}{can\+\_\+msg}} \mbox{\hyperlink{sensors_8c_a575c1a5ab2e25499443a20a705cd6d05}{can\+\_\+pedals\+\_\+sensor}}
\end{DoxyCompactItemize}


\doxysubsection{Function Documentation}
\mbox{\Hypertarget{sensors_8c_ae5c0774d75da2ba5c8393e7056379f0e}\label{sensors_8c_ae5c0774d75da2ba5c8393e7056379f0e}} 
\index{sensors.c@{sensors.c}!conv2CANCarClusterData@{conv2CANCarClusterData}}
\index{conv2CANCarClusterData@{conv2CANCarClusterData}!sensors.c@{sensors.c}}
\doxysubsubsection{\texorpdfstring{conv2CANCarClusterData()}{conv2CANCarClusterData()}}
{\footnotesize\ttfamily \mbox{\hyperlink{structcan__msg}{can\+\_\+msg}} conv2\+CANCar\+Cluster\+Data (\begin{DoxyParamCaption}\item[{bool}]{on\+\_\+off\+\_\+aeb\+\_\+system }\end{DoxyParamCaption})}



Definition at line 91 of file sensors.\+c.


\begin{DoxyCode}{0}
\DoxyCodeLine{91                                                       \{}
\DoxyCodeLine{92     \mbox{\hyperlink{structcan__msg}{can\_msg}} aux = \{.\mbox{\hyperlink{structcan__msg_ac4e36d6ad06dd50743b62e7414f78184}{identifier}} = \mbox{\hyperlink{dbc_8h_aed7b961aae1393ad39496b0d847580d7}{ID\_CAR\_C}}, .dataFrame = \mbox{\hyperlink{dbc_8h_af30056253fdd3a5987a1cab7062f7847}{BASE\_DATA\_FRAME}}\};}
\DoxyCodeLine{93 }
\DoxyCodeLine{94     \textcolor{comment}{// Enable or disable AEB data encapsulation}}
\DoxyCodeLine{95     \textcolor{keywordflow}{if}(on\_off\_aeb\_system)\{}
\DoxyCodeLine{96         aux.\mbox{\hyperlink{structcan__msg_ae7f3f34abc69d7ee28fcd77a53091d54}{dataFrame}}[0] = 0x01;}
\DoxyCodeLine{97     \}}
\DoxyCodeLine{98     \textcolor{keywordflow}{else}\{}
\DoxyCodeLine{99         aux.\mbox{\hyperlink{structcan__msg_ae7f3f34abc69d7ee28fcd77a53091d54}{dataFrame}}[0] = 0x00;}
\DoxyCodeLine{100     \}}
\DoxyCodeLine{101 }
\DoxyCodeLine{102     \textcolor{keywordflow}{return} aux;}
\DoxyCodeLine{103 \}}

\end{DoxyCode}
\mbox{\Hypertarget{sensors_8c_a6a04fa5bdc3138d5d212168f20ddcd2b}\label{sensors_8c_a6a04fa5bdc3138d5d212168f20ddcd2b}} 
\index{sensors.c@{sensors.c}!conv2CANObstacleData@{conv2CANObstacleData}}
\index{conv2CANObstacleData@{conv2CANObstacleData}!sensors.c@{sensors.c}}
\doxysubsubsection{\texorpdfstring{conv2CANObstacleData()}{conv2CANObstacleData()}}
{\footnotesize\ttfamily \mbox{\hyperlink{structcan__msg}{can\+\_\+msg}} conv2\+CANObstacle\+Data (\begin{DoxyParamCaption}\item[{bool}]{has\+\_\+obstacle,  }\item[{double}]{obstacle\+\_\+distance }\end{DoxyParamCaption})}



Definition at line 128 of file sensors.\+c.


\begin{DoxyCode}{0}
\DoxyCodeLine{128                                                                          \{}
\DoxyCodeLine{129     \mbox{\hyperlink{structcan__msg}{can\_msg}} aux = \{.\mbox{\hyperlink{structcan__msg_ac4e36d6ad06dd50743b62e7414f78184}{identifier}} = \mbox{\hyperlink{dbc_8h_a1622c4f92373810c870331dfba0ac7c2}{ID\_OBSTACLE\_S}}, .dataFrame = \mbox{\hyperlink{dbc_8h_af30056253fdd3a5987a1cab7062f7847}{BASE\_DATA\_FRAME}}\};}
\DoxyCodeLine{130 }
\DoxyCodeLine{131     \textcolor{comment}{// Obstacle detection data encapsulation}}
\DoxyCodeLine{132     \textcolor{keywordflow}{if}(has\_obstacle)\{}
\DoxyCodeLine{133         aux.\mbox{\hyperlink{structcan__msg_ae7f3f34abc69d7ee28fcd77a53091d54}{dataFrame}}[2] = 0x01;}
\DoxyCodeLine{134     \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{135         aux.\mbox{\hyperlink{structcan__msg_ae7f3f34abc69d7ee28fcd77a53091d54}{dataFrame}}[2] = 0x00;}
\DoxyCodeLine{136     \}}
\DoxyCodeLine{137 }
\DoxyCodeLine{138     \textcolor{comment}{// Obstacle distance data ​​encapsulation}}
\DoxyCodeLine{139     \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} data\_distance = obstacle\_distance / \mbox{\hyperlink{dbc_8h_ad208b54e7611f9e1696db6646f2b83a1}{RES\_OBSTACLE\_S}};}
\DoxyCodeLine{140     \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} ms\_distance, ls\_distance;}
\DoxyCodeLine{141     ls\_distance = data\_distance;}
\DoxyCodeLine{142     ms\_distance = data\_distance >> 8;}
\DoxyCodeLine{143 }
\DoxyCodeLine{144     \textcolor{comment}{// Defines most and least significant bytes, according to the DBC specification}}
\DoxyCodeLine{145     aux.\mbox{\hyperlink{structcan__msg_ae7f3f34abc69d7ee28fcd77a53091d54}{dataFrame}}[0] = ls\_distance;}
\DoxyCodeLine{146     aux.\mbox{\hyperlink{structcan__msg_ae7f3f34abc69d7ee28fcd77a53091d54}{dataFrame}}[1] = ms\_distance;}
\DoxyCodeLine{147 }
\DoxyCodeLine{148     \textcolor{keywordflow}{return} aux;}
\DoxyCodeLine{149 \}}

\end{DoxyCode}
\mbox{\Hypertarget{sensors_8c_a0cba2b3a2b9c32751dd01c0f59b49261}\label{sensors_8c_a0cba2b3a2b9c32751dd01c0f59b49261}} 
\index{sensors.c@{sensors.c}!conv2CANPedalsData@{conv2CANPedalsData}}
\index{conv2CANPedalsData@{conv2CANPedalsData}!sensors.c@{sensors.c}}
\doxysubsubsection{\texorpdfstring{conv2CANPedalsData()}{conv2CANPedalsData()}}
{\footnotesize\ttfamily \mbox{\hyperlink{structcan__msg}{can\+\_\+msg}} conv2\+CANPedals\+Data (\begin{DoxyParamCaption}\item[{bool}]{brake\+\_\+pedal,  }\item[{bool}]{accelerator\+\_\+pedal }\end{DoxyParamCaption})}



Definition at line 151 of file sensors.\+c.


\begin{DoxyCode}{0}
\DoxyCodeLine{151                                                                     \{}
\DoxyCodeLine{152     \mbox{\hyperlink{structcan__msg}{can\_msg}} aux = \{.\mbox{\hyperlink{structcan__msg_ac4e36d6ad06dd50743b62e7414f78184}{identifier}} = \mbox{\hyperlink{dbc_8h_aba7d5a0a42bbc6b35c9e5ff899fcbb9f}{ID\_PEDALS}}, .dataFrame = \mbox{\hyperlink{dbc_8h_af30056253fdd3a5987a1cab7062f7847}{BASE\_DATA\_FRAME}}\};}
\DoxyCodeLine{153 }
\DoxyCodeLine{154     \textcolor{comment}{// Brake pedal activation data encapsulation}}
\DoxyCodeLine{155     \textcolor{keywordflow}{if}(brake\_pedal)\{}
\DoxyCodeLine{156         aux.\mbox{\hyperlink{structcan__msg_ae7f3f34abc69d7ee28fcd77a53091d54}{dataFrame}}[1] = 0x01;}
\DoxyCodeLine{157     \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{158         aux.\mbox{\hyperlink{structcan__msg_ae7f3f34abc69d7ee28fcd77a53091d54}{dataFrame}}[1] = 0x00;}
\DoxyCodeLine{159     \}}
\DoxyCodeLine{160 }
\DoxyCodeLine{161     \textcolor{comment}{// Accelerator pedal activation data encapsulation}}
\DoxyCodeLine{162     \textcolor{keywordflow}{if}(accelerator\_pedal)\{}
\DoxyCodeLine{163         aux.\mbox{\hyperlink{structcan__msg_ae7f3f34abc69d7ee28fcd77a53091d54}{dataFrame}}[0] = 0x01;}
\DoxyCodeLine{164     \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{165         aux.\mbox{\hyperlink{structcan__msg_ae7f3f34abc69d7ee28fcd77a53091d54}{dataFrame}}[0] = 0x00;}
\DoxyCodeLine{166     \}}
\DoxyCodeLine{167 }
\DoxyCodeLine{168     \textcolor{keywordflow}{return} aux;}
\DoxyCodeLine{169 \}}

\end{DoxyCode}
\mbox{\Hypertarget{sensors_8c_aaeb9968a8ab3ef5ccc549dee4d3c05e8}\label{sensors_8c_aaeb9968a8ab3ef5ccc549dee4d3c05e8}} 
\index{sensors.c@{sensors.c}!conv2CANVelocityData@{conv2CANVelocityData}}
\index{conv2CANVelocityData@{conv2CANVelocityData}!sensors.c@{sensors.c}}
\doxysubsubsection{\texorpdfstring{conv2CANVelocityData()}{conv2CANVelocityData()}}
{\footnotesize\ttfamily \mbox{\hyperlink{structcan__msg}{can\+\_\+msg}} conv2\+CANVelocity\+Data (\begin{DoxyParamCaption}\item[{bool}]{vehicle\+\_\+direction,  }\item[{double}]{vehicle\+\_\+velocity }\end{DoxyParamCaption})}



Definition at line 105 of file sensors.\+c.


\begin{DoxyCode}{0}
\DoxyCodeLine{105                                                                              \{}
\DoxyCodeLine{106     \mbox{\hyperlink{structcan__msg}{can\_msg}} aux = \{.\mbox{\hyperlink{structcan__msg_ac4e36d6ad06dd50743b62e7414f78184}{identifier}} = \mbox{\hyperlink{dbc_8h_ae3477def1e243ca2530c658431decd62}{ID\_SPEED\_S}}, .dataFrame = \mbox{\hyperlink{dbc_8h_af30056253fdd3a5987a1cab7062f7847}{BASE\_DATA\_FRAME}}\};}
\DoxyCodeLine{107 }
\DoxyCodeLine{108     \textcolor{comment}{// Vehicle direction (forward or reverse) data encapsulation}}
\DoxyCodeLine{109     \textcolor{keywordflow}{if}(vehicle\_direction)\{}
\DoxyCodeLine{110         aux.\mbox{\hyperlink{structcan__msg_ae7f3f34abc69d7ee28fcd77a53091d54}{dataFrame}}[2] = 0x01;}
\DoxyCodeLine{111     \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{112         aux.\mbox{\hyperlink{structcan__msg_ae7f3f34abc69d7ee28fcd77a53091d54}{dataFrame}}[2] = 0x00;}
\DoxyCodeLine{113     \}}
\DoxyCodeLine{114 }
\DoxyCodeLine{115     \textcolor{comment}{// Speed data ​​encapsulation}}
\DoxyCodeLine{116     \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} data\_speed = vehicle\_velocity / \mbox{\hyperlink{dbc_8h_a646c6bfdb7d9573fc91d5d934d37ef43}{RES\_SPEED\_S}};}
\DoxyCodeLine{117     \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} ms\_speed, ls\_speed;}
\DoxyCodeLine{118     ls\_speed = data\_speed;}
\DoxyCodeLine{119     ms\_speed = data\_speed >> 8;}
\DoxyCodeLine{120 }
\DoxyCodeLine{121     \textcolor{comment}{// Defines most and least significant bytes, according to the DBC specification}}
\DoxyCodeLine{122     aux.\mbox{\hyperlink{structcan__msg_ae7f3f34abc69d7ee28fcd77a53091d54}{dataFrame}}[0] = ls\_speed;}
\DoxyCodeLine{123     aux.\mbox{\hyperlink{structcan__msg_ae7f3f34abc69d7ee28fcd77a53091d54}{dataFrame}}[1] = ms\_speed;}
\DoxyCodeLine{124 }
\DoxyCodeLine{125     \textcolor{keywordflow}{return} aux;}
\DoxyCodeLine{126 \}}

\end{DoxyCode}
\mbox{\Hypertarget{sensors_8c_a7133528f31fb081ea984f84794d3c453}\label{sensors_8c_a7133528f31fb081ea984f84794d3c453}} 
\index{sensors.c@{sensors.c}!getSensorsData@{getSensorsData}}
\index{getSensorsData@{getSensorsData}!sensors.c@{sensors.c}}
\doxysubsubsection{\texorpdfstring{getSensorsData()}{getSensorsData()}}
{\footnotesize\ttfamily void $\ast$ get\+Sensors\+Data (\begin{DoxyParamCaption}\item[{void $\ast$}]{arg }\end{DoxyParamCaption})}



Definition at line 46 of file sensors.\+c.


\begin{DoxyCode}{0}
\DoxyCodeLine{46                                \{}
\DoxyCodeLine{47     \textcolor{comment}{// Part 1: take data from txt/csv file}}
\DoxyCodeLine{48     \textcolor{comment}{// Part 2: Convert data to can\_msg format}}
\DoxyCodeLine{49     \textcolor{comment}{// Part 3: Send all four frames to sensors\_mq    }}
\DoxyCodeLine{50     \textcolor{comment}{// Part 4: simple sleep timer;}}
\DoxyCodeLine{51 }
\DoxyCodeLine{52     FILE *file = (FILE*)arg; \textcolor{comment}{// Recebe o arquivo como argumento}}
\DoxyCodeLine{53 }
\DoxyCodeLine{54     \textcolor{keywordflow}{while} (1) \{}
\DoxyCodeLine{55         \textcolor{comment}{// Read a new line from the file}}
\DoxyCodeLine{56         \textcolor{keywordflow}{if} (\mbox{\hyperlink{file__reader_8c_a06e72747213ae08275b8a3f9ed2c7ba0}{read\_sensor\_data}}(file, \&\mbox{\hyperlink{sensors_8c_ac45d5dcfa9efd80bcc0ef22fcafc61e3}{sensorsData}})) \{}
\DoxyCodeLine{57             \mbox{\hyperlink{sensors_8c_a3bdc4daf576546b0a53294324cafd087}{can\_car\_cluster}}     = \mbox{\hyperlink{sensors_8c_ae5c0774d75da2ba5c8393e7056379f0e}{conv2CANCarClusterData}}(\mbox{\hyperlink{sensors_8c_ac45d5dcfa9efd80bcc0ef22fcafc61e3}{sensorsData}}.\mbox{\hyperlink{structsensors__input__data_a7d3eb4bf1acbb1c912830e8808f72168}{on\_off\_aeb\_system}});}
\DoxyCodeLine{58             \mbox{\hyperlink{sensors_8c_a0f18fc7309742ccb54bfca636def5220}{can\_velocity\_sensor}} = \mbox{\hyperlink{sensors_8c_aaeb9968a8ab3ef5ccc549dee4d3c05e8}{conv2CANVelocityData}}(\mbox{\hyperlink{sensors_8c_ac45d5dcfa9efd80bcc0ef22fcafc61e3}{sensorsData}}.\mbox{\hyperlink{structsensors__input__data_a0f676ac6033e205e2603c48fecf461ef}{reverseEnabled}}, \mbox{\hyperlink{sensors_8c_ac45d5dcfa9efd80bcc0ef22fcafc61e3}{sensorsData}}.\mbox{\hyperlink{structsensors__input__data_a093ccd15507b18e4a407ae811d01e3ab}{vehicle\_velocity}});}
\DoxyCodeLine{59             \mbox{\hyperlink{sensors_8c_ae0bb2c4e7f2b0e3531b985f62c467a24}{can\_obstacle\_sensor}} = \mbox{\hyperlink{sensors_8c_a6a04fa5bdc3138d5d212168f20ddcd2b}{conv2CANObstacleData}}(\mbox{\hyperlink{sensors_8c_ac45d5dcfa9efd80bcc0ef22fcafc61e3}{sensorsData}}.\mbox{\hyperlink{structsensors__input__data_a3782de9b1037f3ce0036f685de31f165}{has\_obstacle}}, \mbox{\hyperlink{sensors_8c_ac45d5dcfa9efd80bcc0ef22fcafc61e3}{sensorsData}}.\mbox{\hyperlink{structsensors__input__data_a01371737abb4472988490f1d011be0c9}{obstacle\_distance}});}
\DoxyCodeLine{60             \mbox{\hyperlink{sensors_8c_a575c1a5ab2e25499443a20a705cd6d05}{can\_pedals\_sensor}}   = \mbox{\hyperlink{sensors_8c_a0cba2b3a2b9c32751dd01c0f59b49261}{conv2CANPedalsData}}(\mbox{\hyperlink{sensors_8c_ac45d5dcfa9efd80bcc0ef22fcafc61e3}{sensorsData}}.\mbox{\hyperlink{structsensors__input__data_a8cc0d9e6c44c3b22ba0ad4e2e3f7d055}{brake\_pedal}}, \mbox{\hyperlink{sensors_8c_ac45d5dcfa9efd80bcc0ef22fcafc61e3}{sensorsData}}.\mbox{\hyperlink{structsensors__input__data_a605d64229c3a536712761f44feb45251}{accelerator\_pedal}});}
\DoxyCodeLine{61 }
\DoxyCodeLine{62             \mbox{\hyperlink{mq__utils_8c_a57d5de8d149ae20eb2026dac0cef7d08}{write\_mq}}(\mbox{\hyperlink{sensors_8c_a074b0ef9bc31934bbf9b2b54e9e9aa43}{sensors\_mq}}, \&\mbox{\hyperlink{sensors_8c_a3bdc4daf576546b0a53294324cafd087}{can\_car\_cluster}});}
\DoxyCodeLine{63             \mbox{\hyperlink{mq__utils_8c_a57d5de8d149ae20eb2026dac0cef7d08}{write\_mq}}(\mbox{\hyperlink{sensors_8c_a074b0ef9bc31934bbf9b2b54e9e9aa43}{sensors\_mq}}, \&\mbox{\hyperlink{sensors_8c_a0f18fc7309742ccb54bfca636def5220}{can\_velocity\_sensor}});}
\DoxyCodeLine{64             \mbox{\hyperlink{mq__utils_8c_a57d5de8d149ae20eb2026dac0cef7d08}{write\_mq}}(\mbox{\hyperlink{sensors_8c_a074b0ef9bc31934bbf9b2b54e9e9aa43}{sensors\_mq}}, \&\mbox{\hyperlink{sensors_8c_ae0bb2c4e7f2b0e3531b985f62c467a24}{can\_obstacle\_sensor}});}
\DoxyCodeLine{65             \mbox{\hyperlink{mq__utils_8c_a57d5de8d149ae20eb2026dac0cef7d08}{write\_mq}}(\mbox{\hyperlink{sensors_8c_a074b0ef9bc31934bbf9b2b54e9e9aa43}{sensors\_mq}}, \&\mbox{\hyperlink{sensors_8c_a575c1a5ab2e25499443a20a705cd6d05}{can\_pedals\_sensor}});}
\DoxyCodeLine{66 }
\DoxyCodeLine{67             \textcolor{comment}{// PlaceHolder: just some simple prints to see if the data is being converted in the right way}}
\DoxyCodeLine{68             \textcolor{comment}{//print\_can\_msg(\&can\_car\_cluster);}}
\DoxyCodeLine{69             \textcolor{comment}{//print\_can\_msg(\&can\_velocity\_sensor);}}
\DoxyCodeLine{70             \textcolor{comment}{//print\_can\_msg(\&can\_obstacle\_sensor);}}
\DoxyCodeLine{71             \textcolor{comment}{//print\_can\_msg(\&can\_pedals\_sensor);}}
\DoxyCodeLine{72         }
\DoxyCodeLine{73             printf(\textcolor{stringliteral}{"{}New line.\(\backslash\)n"{}}); \textcolor{comment}{//This line is used for see the break of line}}
\DoxyCodeLine{74         \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{75             \textcolor{comment}{// If a new line can't be read, the end of the file was reached}}
\DoxyCodeLine{76             printf(\textcolor{stringliteral}{"{}EOF reached.\(\backslash\)n"{}});}
\DoxyCodeLine{77             \textcolor{keywordflow}{break};}
\DoxyCodeLine{78         \}}
\DoxyCodeLine{79 }
\DoxyCodeLine{80         sleep(1); \textcolor{comment}{// Wait for 1 second before reading the next line}}
\DoxyCodeLine{81     \}}
\DoxyCodeLine{82         }
\DoxyCodeLine{83     \textcolor{comment}{//printf("{}Placeholder\(\backslash\)n"{});}}
\DoxyCodeLine{84     fclose(file); \textcolor{comment}{// Closes the file at the end}}
\DoxyCodeLine{85     \textcolor{keywordflow}{return} NULL;}
\DoxyCodeLine{86 \}}

\end{DoxyCode}
\mbox{\Hypertarget{sensors_8c_ae66f6b31b5ad750f1fe042a706a4e3d4}\label{sensors_8c_ae66f6b31b5ad750f1fe042a706a4e3d4}} 
\index{sensors.c@{sensors.c}!main@{main}}
\index{main@{main}!sensors.c@{sensors.c}}
\doxysubsubsection{\texorpdfstring{main()}{main()}}
{\footnotesize\ttfamily int main (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Definition at line 25 of file sensors.\+c.


\begin{DoxyCode}{0}
\DoxyCodeLine{25           \{}
\DoxyCodeLine{26     \textcolor{keywordtype}{int} sensors\_thr;}
\DoxyCodeLine{27 }
\DoxyCodeLine{28     \mbox{\hyperlink{sensors_8c_a074b0ef9bc31934bbf9b2b54e9e9aa43}{sensors\_mq}} = \mbox{\hyperlink{mq__utils_8c_a95f00e4196a05f378c2656be620edfcf}{create\_mq}}(\mbox{\hyperlink{constants_8h_aab9d8e700a34c08a7d8bca1d5a2d31a5}{SENSORS\_MQ}});}
\DoxyCodeLine{29     \textcolor{comment}{// sensors\_mq = open\_mq(SENSORS\_MQ);}}
\DoxyCodeLine{30 }
\DoxyCodeLine{31     \textcolor{keyword}{const} \textcolor{keywordtype}{char} *filename = \textcolor{stringliteral}{"{}cts/cenario.txt"{}};}
\DoxyCodeLine{32     FILE *file = \mbox{\hyperlink{file__reader_8c_a385ee1464ad17f916d05e6eac823751e}{open\_file}}(filename); \textcolor{comment}{// uses the modularized function to open the file}}
\DoxyCodeLine{33 }
\DoxyCodeLine{34     sensors\_thr = pthread\_create(\&\mbox{\hyperlink{sensors_8c_a6ad3d00dfd971193e96fb9f18133171f}{sensors\_id}}, NULL, \mbox{\hyperlink{sensors_8c_a7133528f31fb081ea984f84794d3c453}{getSensorsData}}, file); \textcolor{comment}{//Changed the argument from null to file(the last argument)}}
\DoxyCodeLine{35     \textcolor{keywordflow}{if}(sensors\_thr != 0)\{}
\DoxyCodeLine{36         perror(\textcolor{stringliteral}{"{}Sensors: it wasn't possible to create the associated thread\(\backslash\)n"{}});}
\DoxyCodeLine{37         exit(52);}
\DoxyCodeLine{38     \}}
\DoxyCodeLine{39     sensors\_thr = pthread\_join(\mbox{\hyperlink{sensors_8c_a6ad3d00dfd971193e96fb9f18133171f}{sensors\_id}}, NULL);}
\DoxyCodeLine{40     }
\DoxyCodeLine{41     \textcolor{comment}{// close\_mq(sensors\_mq, SENSORS\_MQ);}}
\DoxyCodeLine{42 }
\DoxyCodeLine{43     \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{44 \}}

\end{DoxyCode}


\doxysubsection{Variable Documentation}
\mbox{\Hypertarget{sensors_8c_a3bdc4daf576546b0a53294324cafd087}\label{sensors_8c_a3bdc4daf576546b0a53294324cafd087}} 
\index{sensors.c@{sensors.c}!can\_car\_cluster@{can\_car\_cluster}}
\index{can\_car\_cluster@{can\_car\_cluster}!sensors.c@{sensors.c}}
\doxysubsubsection{\texorpdfstring{can\_car\_cluster}{can\_car\_cluster}}
{\footnotesize\ttfamily \mbox{\hyperlink{structcan__msg}{can\+\_\+msg}} can\+\_\+car\+\_\+cluster}



Definition at line 23 of file sensors.\+c.

\mbox{\Hypertarget{sensors_8c_ae0bb2c4e7f2b0e3531b985f62c467a24}\label{sensors_8c_ae0bb2c4e7f2b0e3531b985f62c467a24}} 
\index{sensors.c@{sensors.c}!can\_obstacle\_sensor@{can\_obstacle\_sensor}}
\index{can\_obstacle\_sensor@{can\_obstacle\_sensor}!sensors.c@{sensors.c}}
\doxysubsubsection{\texorpdfstring{can\_obstacle\_sensor}{can\_obstacle\_sensor}}
{\footnotesize\ttfamily \mbox{\hyperlink{structcan__msg}{can\+\_\+msg}} can\+\_\+obstacle\+\_\+sensor}



Definition at line 23 of file sensors.\+c.

\mbox{\Hypertarget{sensors_8c_a575c1a5ab2e25499443a20a705cd6d05}\label{sensors_8c_a575c1a5ab2e25499443a20a705cd6d05}} 
\index{sensors.c@{sensors.c}!can\_pedals\_sensor@{can\_pedals\_sensor}}
\index{can\_pedals\_sensor@{can\_pedals\_sensor}!sensors.c@{sensors.c}}
\doxysubsubsection{\texorpdfstring{can\_pedals\_sensor}{can\_pedals\_sensor}}
{\footnotesize\ttfamily \mbox{\hyperlink{structcan__msg}{can\+\_\+msg}} can\+\_\+pedals\+\_\+sensor}



Definition at line 23 of file sensors.\+c.

\mbox{\Hypertarget{sensors_8c_a0f18fc7309742ccb54bfca636def5220}\label{sensors_8c_a0f18fc7309742ccb54bfca636def5220}} 
\index{sensors.c@{sensors.c}!can\_velocity\_sensor@{can\_velocity\_sensor}}
\index{can\_velocity\_sensor@{can\_velocity\_sensor}!sensors.c@{sensors.c}}
\doxysubsubsection{\texorpdfstring{can\_velocity\_sensor}{can\_velocity\_sensor}}
{\footnotesize\ttfamily \mbox{\hyperlink{structcan__msg}{can\+\_\+msg}} can\+\_\+velocity\+\_\+sensor}



Definition at line 23 of file sensors.\+c.

\mbox{\Hypertarget{sensors_8c_a6ad3d00dfd971193e96fb9f18133171f}\label{sensors_8c_a6ad3d00dfd971193e96fb9f18133171f}} 
\index{sensors.c@{sensors.c}!sensors\_id@{sensors\_id}}
\index{sensors\_id@{sensors\_id}!sensors.c@{sensors.c}}
\doxysubsubsection{\texorpdfstring{sensors\_id}{sensors\_id}}
{\footnotesize\ttfamily pthread\+\_\+t sensors\+\_\+id}



Definition at line 20 of file sensors.\+c.

\mbox{\Hypertarget{sensors_8c_a074b0ef9bc31934bbf9b2b54e9e9aa43}\label{sensors_8c_a074b0ef9bc31934bbf9b2b54e9e9aa43}} 
\index{sensors.c@{sensors.c}!sensors\_mq@{sensors\_mq}}
\index{sensors\_mq@{sensors\_mq}!sensors.c@{sensors.c}}
\doxysubsubsection{\texorpdfstring{sensors\_mq}{sensors\_mq}}
{\footnotesize\ttfamily mqd\+\_\+t sensors\+\_\+mq}



Definition at line 19 of file sensors.\+c.

\mbox{\Hypertarget{sensors_8c_ac45d5dcfa9efd80bcc0ef22fcafc61e3}\label{sensors_8c_ac45d5dcfa9efd80bcc0ef22fcafc61e3}} 
\index{sensors.c@{sensors.c}!sensorsData@{sensorsData}}
\index{sensorsData@{sensorsData}!sensors.c@{sensors.c}}
\doxysubsubsection{\texorpdfstring{sensorsData}{sensorsData}}
{\footnotesize\ttfamily \mbox{\hyperlink{structsensors__input__data}{sensors\+\_\+input\+\_\+data}} sensors\+Data}



Definition at line 21 of file sensors.\+c.

